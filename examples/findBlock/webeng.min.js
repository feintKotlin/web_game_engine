"use strict";var feint;(function(feint){var Transform=function(){function Transform(){}return Transform}();feint.Transform=Transform;var Position=function(){function Position(x,y){this._x=0;this._y=0;this._x=x;this._y=y}Object.defineProperty(Position.prototype,"X",{get:function(){return this._x},set:function(x){this._x=x},enumerable:true,configurable:true});Object.defineProperty(Position.prototype,"Y",{get:function(){return this._y},set:function(y){this._y=y},enumerable:true,configurable:true});return Position}();feint.Position=Position;var Size=function(){function Size(width,height){this._width=width;this._height=height}Object.defineProperty(Size.prototype,"Width",{get:function(){return this._width},enumerable:true,configurable:true});Object.defineProperty(Size.prototype,"Height",{get:function(){return this._height},enumerable:true,configurable:true});return Size}();feint.Size=Size;var Rect=function(){function Rect(x,y,width,height){this._x=x;this._y=y;this._width=width;this._height=height}Object.defineProperty(Rect.prototype,"X",{get:function(){return this._x},set:function(x){this._x=x},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"Y",{get:function(){return this._y},set:function(y){this._y=y},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"Width",{get:function(){return this._width},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"Height",{get:function(){return this._height},enumerable:true,configurable:true});return Rect}();feint.Rect=Rect})(feint||(feint={}));"use strict";var feint;(function(feint){function isInArea(pos,rect){return pos.X>=rect.X&&pos.X<=rect.X+rect.Width&&pos.Y>=rect.Y&&pos.Y<=rect.Y+rect.Height}feint.isInArea=isInArea;var Color;(function(Color){function rgb(r,g,b){return"rgb("+r+","+g+","+b+")"}Color.rgb=rgb})(Color=feint.Color||(feint.Color={}))})(feint||(feint={}));"use strict";var feint;(function(feint){var Canvas=function(){function Canvas(canvas){this._mouseDownEvent=function(event){};this._canvas=canvas;this._context=canvas.getContext("2d")}Object.defineProperty(Canvas.prototype,"Width",{get:function(){return this._canvas.width},set:function(width){this._canvas.width=width},enumerable:true,configurable:true});Object.defineProperty(Canvas.prototype,"Height",{get:function(){return this._canvas.height},set:function(height){this._canvas.height=height},enumerable:true,configurable:true});Object.defineProperty(Canvas.prototype,"FillStyle",{set:function(style){this._context.fillStyle=style},enumerable:true,configurable:true});Object.defineProperty(Canvas.prototype,"MouseDownEvent",{set:function(event){this._mouseDownEvent=event},enumerable:true,configurable:true});Canvas.prototype.fillRect=function(rect){this._context.fillRect(rect.X,rect.Y,rect.Width,rect.Height)};Canvas.prototype.strokeRect=function(rect){this._context.strokeRect(rect.X,rect.Y,rect.Width,rect.Height)};Object.defineProperty(Canvas.prototype,"StrokeStyle",{set:function(style){this._context.strokeStyle=style},enumerable:true,configurable:true});Canvas.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)};Canvas.prototype.openListener=function(){var _this=this;this._canvas.onmousedown=function(event){_this._mouseDownEvent(event)}};return Canvas}();feint.Canvas=Canvas})(feint||(feint={}));"use strict";var feint;(function(feint){var Render=function(){function Render(scene){this._scene=scene}Render.prototype.render=function(){var _this=this;this._scene.Canvas.clear();this.renderScene();var gameObjects=this._scene.GameObjects;gameObjects.forEach(function(gameObject){_this._scene.Canvas.FillStyle="#ffffff";_this.renderObject(gameObject)})};Render.prototype.renderObject=function(gameObject){this._scene.Canvas.StrokeStyle="#00ff00";this._scene.Canvas.strokeRect(gameObject.Bounding);gameObject.draw(this._scene.Canvas)};Render.prototype.renderScene=function(){this._scene.Canvas.FillStyle="#000";this._scene.Canvas.fillRect(new feint.Rect(0,0,this._scene.Size.Width,this._scene.Size.Height))};return Render}();feint.Render=Render})(feint||(feint={}));"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var feint;(function(feint){var GameObject=function(){function GameObject(name,bounding){this._keyDownEvent=function(){};this._keyUpEvent=function(){};this._keyDownEventMap=[];this._keyUpEventMap=[];this._mouseDownEvent=function(){};this._position=new feint.Position(bounding.X,bounding.Y);this._size=new feint.Size(bounding.Width,bounding.Height);this._bounding=bounding;this._name=name}Object.defineProperty(GameObject.prototype,"Position",{get:function(){return this._position},set:function(position){this._position=position;this._bounding.X=position.X;this._bounding.Y=position.Y},enumerable:true,configurable:true});Object.defineProperty(GameObject.prototype,"Bounding",{get:function(){return this._bounding},enumerable:true,configurable:true});Object.defineProperty(GameObject.prototype,"Name",{get:function(){return this._name},enumerable:true,configurable:true});GameObject.prototype.onKeyDown=function(keyCode,event){this._keyDownEventMap.push({keyCode:keyCode,event:event})};GameObject.prototype.onKeyUp=function(keyCode,event){this._keyUpEventMap.push({keyCode:keyCode,event:event})};GameObject.prototype.onMouseDown=function(event){this._mouseDownEvent=event};GameObject.prototype.mouseDown=function(){this._mouseDownEvent(this)};GameObject.prototype.getKeyDownEvent=function(keyCode){var event=function(){};this._keyDownEventMap.forEach(function(obj){if(obj.keyCode==keyCode){event=obj.event}});return event};GameObject.prototype.getKeyUpEvent=function(keyCode){var event=function(){};this._keyUpEventMap.forEach(function(obj){if(obj.keyCode==keyCode){event=obj.event}});return event};return GameObject}();feint.GameObject=GameObject;var BaseShape=function(_super){__extends(BaseShape,_super);function BaseShape(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._fillColor="#ccc";return _this}Object.defineProperty(BaseShape.prototype,"FillColor",{get:function(){return this._fillColor},set:function(color){this._fillColor=color},enumerable:true,configurable:true});BaseShape.prototype.draw=function(canvas){};return BaseShape}(GameObject);feint.BaseShape=BaseShape;var Rectangle=function(_super){__extends(Rectangle,_super);function Rectangle(){return _super!==null&&_super.apply(this,arguments)||this}Rectangle.prototype.draw=function(canvas){canvas.FillStyle=this.FillColor;canvas.fillRect(this.Bounding)};return Rectangle}(BaseShape);feint.Rectangle=Rectangle})(feint||(feint={}));"use strict";var feint;(function(feint){var Scene=function(){function Scene(canvas){this._update=function(){};this._gameobjects=[];this._render=new feint.Render(this);this._width=800;this._height=800;this._canvas=canvas}Object.defineProperty(Scene.prototype,"GameObjects",{get:function(){return this._gameobjects},enumerable:true,configurable:true});Object.defineProperty(Scene.prototype,"Canvas",{get:function(){return this._canvas},enumerable:true,configurable:true});Object.defineProperty(Scene.prototype,"Size",{get:function(){return new feint.Size(this._width,this._height)},set:function(size){this._width=size.Width;this._height=size.Height},enumerable:true,configurable:true});Scene.prototype.addGameObject=function(gameObject){this._gameobjects.push(gameObject)};Scene.prototype.removeGameObject=function(gameObject){this._gameobjects.splice(this._gameobjects.indexOf(gameObject),1)};Scene.prototype.clearGameObjects=function(){this._gameobjects=[]};Scene.prototype.find=function(name){var gameObject=null;for(var i=0;i<this._gameobjects.length;++i){if(this._gameobjects[i].Name==name){gameObject=this._gameobjects[i]}}return gameObject};Scene.prototype.onUpdate=function(event){this._update=event};Scene.prototype.run=function(){var _this=this;this.beforeStart();setInterval(function(){_this._update();_this._render.render()},100)};Scene.prototype.beforeStart=function(){var _this=this;this._canvas.MouseDownEvent=function(event){var clickPos=new feint.Position(event.offsetX,event.offsetY);_this._gameobjects.forEach(function(gameobject){if(feint.isInArea(clickPos,gameobject.Bounding)){gameobject.mouseDown()}})};this._canvas.openListener()};Scene.prototype.preview=function(){this._render.render()};return Scene}();feint.Scene=Scene})(feint||(feint={}));